{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { Component, createRef, PureComponent } from 'react';\nimport { createPortal, flushSync } from 'react-dom';\nimport { Calendar } from '@fullcalendar/core';\nimport { CustomRenderingStore } from '@fullcalendar/core/internal';\nconst reactMajorVersion = parseInt(String(React.version).split('.')[0]);\nconst syncRenderingByDefault = reactMajorVersion < 18;\nexport default class FullCalendar extends Component {\n  constructor() {\n    super(...arguments);\n    this.elRef = createRef();\n    this.isUpdating = false;\n    this.isUnmounting = false;\n    this.state = {\n      customRenderingMap: new Map()\n    };\n    this.requestResize = () => {\n      if (!this.isUnmounting) {\n        this.cancelResize();\n        this.resizeId = requestAnimationFrame(() => {\n          this.doResize();\n        });\n      }\n    };\n  }\n  render() {\n    const customRenderingNodes = [];\n    for (const customRendering of this.state.customRenderingMap.values()) {\n      customRenderingNodes.push(React.createElement(CustomRenderingComponent, {\n        key: customRendering.id,\n        customRendering: customRendering\n      }));\n    }\n    return React.createElement(\"div\", {\n      ref: this.elRef\n    }, customRenderingNodes);\n  }\n  componentDidMount() {\n    // reset b/c react strict-mode calls componentWillUnmount/componentDidMount\n    this.isUnmounting = false;\n    const customRenderingStore = new CustomRenderingStore();\n    this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore);\n    this.calendar = new Calendar(this.elRef.current, Object.assign(Object.assign({}, this.props), {\n      handleCustomRendering: this.handleCustomRendering\n    }));\n    this.calendar.render();\n    let lastRequestTimestamp;\n    customRenderingStore.subscribe(customRenderingMap => {\n      const requestTimestamp = Date.now();\n      const isMounting = !lastRequestTimestamp;\n      const runFunc =\n      // don't call flushSync if React version already does sync rendering by default\n      // guards against fatal errors:\n      // https://github.com/fullcalendar/fullcalendar/issues/7448\n      syncRenderingByDefault ||\n      //\n      isMounting || this.isUpdating || this.isUnmounting || requestTimestamp - lastRequestTimestamp < 100 // rerendering frequently\n      ? runNow // either sync rendering (first-time or React 16/17) or async (React 18)\n      : flushSync; // guaranteed sync rendering\n      runFunc(() => {\n        this.setState({\n          customRenderingMap\n        }, () => {\n          lastRequestTimestamp = requestTimestamp;\n          if (isMounting) {\n            this.doResize();\n          } else {\n            this.requestResize();\n          }\n        });\n      });\n    });\n  }\n  componentDidUpdate() {\n    this.isUpdating = true;\n    this.calendar.resetOptions(Object.assign(Object.assign({}, this.props), {\n      handleCustomRendering: this.handleCustomRendering\n    }));\n    this.isUpdating = false;\n  }\n  componentWillUnmount() {\n    this.isUnmounting = true;\n    this.cancelResize();\n    this.calendar.destroy();\n  }\n  doResize() {\n    this.calendar.updateSize();\n  }\n  cancelResize() {\n    if (this.resizeId !== undefined) {\n      cancelAnimationFrame(this.resizeId);\n      this.resizeId = undefined;\n    }\n  }\n  getApi() {\n    return this.calendar;\n  }\n}\nFullCalendar.act = runNow; // DEPRECATED. Not leveraged anymore\nclass CustomRenderingComponent extends PureComponent {\n  render() {\n    const {\n      customRendering\n    } = this.props;\n    const {\n      generatorMeta\n    } = customRendering;\n    const vnode = typeof generatorMeta === 'function' ? generatorMeta(customRendering.renderProps) : generatorMeta;\n    return createPortal(vnode, customRendering.containerEl);\n  }\n}\n// Util\n// -------------------------------------------------------------------------------------------------\nfunction runNow(f) {\n  f();\n}","map":{"version":3,"names":["React","Component","createRef","PureComponent","createPortal","flushSync","Calendar","CustomRenderingStore","reactMajorVersion","parseInt","String","version","split","syncRenderingByDefault","FullCalendar","constructor","elRef","isUpdating","isUnmounting","state","customRenderingMap","Map","requestResize","cancelResize","resizeId","requestAnimationFrame","doResize","render","customRenderingNodes","customRendering","values","push","createElement","CustomRenderingComponent","key","id","ref","componentDidMount","customRenderingStore","handleCustomRendering","handle","bind","calendar","current","Object","assign","props","lastRequestTimestamp","subscribe","requestTimestamp","Date","now","isMounting","runFunc","runNow","setState","componentDidUpdate","resetOptions","componentWillUnmount","destroy","updateSize","undefined","cancelAnimationFrame","getApi","act","generatorMeta","vnode","renderProps","containerEl","f"],"sources":["C:\\Users\\Limon\\Downloads\\MealMentor\\frontend\\node_modules\\@fullcalendar\\react\\src\\index.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport React, { Component, createRef, PureComponent } from 'react'\r\nimport { createPortal, flushSync } from 'react-dom'\r\nimport {\r\n  CalendarOptions,\r\n  CalendarApi,\r\n  Calendar,\r\n} from '@fullcalendar/core'\r\nimport {\r\n  CustomRendering,\r\n  CustomRenderingStore,\r\n} from '@fullcalendar/core/internal'\r\n\r\nconst reactMajorVersion = parseInt(String(React.version).split('.')[0])\r\nconst syncRenderingByDefault = reactMajorVersion < 18\r\n\r\ninterface CalendarState {\r\n  customRenderingMap: Map<string, CustomRendering<any>>\r\n}\r\n\r\nexport default class FullCalendar extends Component<CalendarOptions, CalendarState> {\r\n  static act = runNow // DEPRECATED. Not leveraged anymore\r\n\r\n  private elRef = createRef<HTMLDivElement>()\r\n  private calendar: Calendar\r\n  private handleCustomRendering: (customRendering: CustomRendering<any>) => void\r\n  private resizeId: number | undefined\r\n  private isUpdating = false\r\n  private isUnmounting = false\r\n\r\n  state: CalendarState = {\r\n    customRenderingMap: new Map<string, CustomRendering<any>>()\r\n  }\r\n\r\n  render() {\r\n    const customRenderingNodes: JSX.Element[] = []\r\n\r\n    for (const customRendering of this.state.customRenderingMap.values()) {\r\n      customRenderingNodes.push(\r\n        <CustomRenderingComponent\r\n          key={customRendering.id}\r\n          customRendering={customRendering}\r\n        />\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div ref={this.elRef}>\r\n        {customRenderingNodes}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  componentDidMount() {\r\n    // reset b/c react strict-mode calls componentWillUnmount/componentDidMount\r\n    this.isUnmounting = false\r\n\r\n    const customRenderingStore = new CustomRenderingStore<unknown>()\r\n    this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore)\r\n\r\n    this.calendar = new Calendar(this.elRef.current, {\r\n      ...this.props,\r\n      handleCustomRendering: this.handleCustomRendering,\r\n    })\r\n    this.calendar.render()\r\n\r\n    let lastRequestTimestamp: number | undefined\r\n\r\n    customRenderingStore.subscribe((customRenderingMap) => {\r\n      const requestTimestamp = Date.now()\r\n      const isMounting = !lastRequestTimestamp\r\n      const runFunc = (\r\n        // don't call flushSync if React version already does sync rendering by default\r\n        // guards against fatal errors:\r\n        // https://github.com/fullcalendar/fullcalendar/issues/7448\r\n        syncRenderingByDefault ||\r\n        //\r\n        isMounting ||\r\n        this.isUpdating ||\r\n        this.isUnmounting ||\r\n        (requestTimestamp - lastRequestTimestamp) < 100 // rerendering frequently\r\n      ) ? runNow // either sync rendering (first-time or React 16/17) or async (React 18)\r\n        : flushSync // guaranteed sync rendering\r\n\r\n      runFunc(() => {\r\n        this.setState({ customRenderingMap }, () => {\r\n          lastRequestTimestamp = requestTimestamp\r\n          if (isMounting) {\r\n            this.doResize()\r\n          } else {\r\n            this.requestResize()\r\n          }\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.isUpdating = true\r\n    this.calendar.resetOptions({\r\n      ...this.props,\r\n      handleCustomRendering: this.handleCustomRendering,\r\n    })\r\n    this.isUpdating = false\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.isUnmounting = true\r\n    this.cancelResize()\r\n    this.calendar.destroy()\r\n  }\r\n\r\n  requestResize = () => {\r\n    if (!this.isUnmounting) {\r\n      this.cancelResize()\r\n      this.resizeId = requestAnimationFrame(() => {\r\n        this.doResize()\r\n      })\r\n    }\r\n  }\r\n\r\n  doResize() {\r\n    this.calendar.updateSize()\r\n  }\r\n\r\n  cancelResize() {\r\n    if (this.resizeId !== undefined) {\r\n      cancelAnimationFrame(this.resizeId)\r\n      this.resizeId = undefined\r\n    }\r\n  }\r\n\r\n  getApi(): CalendarApi {\r\n    return this.calendar\r\n  }\r\n}\r\n\r\n// Custom Rendering\r\n// -------------------------------------------------------------------------------------------------\r\n\r\ninterface CustomRenderingComponentProps {\r\n  customRendering: CustomRendering<any>\r\n}\r\n\r\nclass CustomRenderingComponent extends PureComponent<CustomRenderingComponentProps> {\r\n  render() {\r\n    const { customRendering } = this.props\r\n    const { generatorMeta } = customRendering\r\n    const vnode = typeof generatorMeta === 'function' ?\r\n      generatorMeta(customRendering.renderProps) :\r\n      generatorMeta\r\n\r\n    return createPortal(vnode, customRendering.containerEl)\r\n  }\r\n}\r\n\r\n// Util\r\n// -------------------------------------------------------------------------------------------------\r\n\r\nfunction runNow(f: () => void): void {\r\n  f()\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}